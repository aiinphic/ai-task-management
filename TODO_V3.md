# AI 任務管理系統 v3.0 - 待辦清單

## 新需求概述

將「今日工作」改版為「所有任務列表」,新增部門管理、任務篩選器、已完成任務追蹤等功能。

---

## Phase 1: 規劃部門架構與資料模型

### 1.1 定義部門資料結構
- [ ] 建立 Department 類型定義
  - 部門 ID
  - 部門名稱(產品部、會計部、業務部、行銷部、行政部)
  - 部門圖標
  - 成員列表
  - 任務數量統計

### 1.2 更新使用者資料模型
- [ ] 為每個使用者新增 department 欄位
- [ ] 隨機分配使用者到各部門
- [ ] 建立部門成員清單

### 1.3 更新任務資料模型
- [ ] 為任務新增 department 欄位
- [ ] 為任務新增 completedAt 欄位(完成時間)
- [ ] 確保任務狀態包含: pending, in-progress, completed

---

## Phase 2: 開發部門卡片與成員管理

### 2.1 建立部門卡片元件
- [ ] 建立 DepartmentCard.tsx
- [ ] 顯示部門名稱和圖標
- [ ] 顯示任務數量統計(待辦/進行中/已完成)
- [ ] 顯示成員頭像列表
- [ ] 點擊可展開部門任務清單

### 2.2 建立部門資料
- [ ] 建立 mockDepartments.ts
- [ ] 定義 5 個部門
- [ ] 隨機分配 3-8 名成員到每個部門

---

## Phase 3: 重設計任務卡片顯示格式

### 3.1 更新 TaskCard 元件
- [ ] 修改標題格式為:「負責人 → 任務名稱」
- [ ] 新增部門單位標籤顯示
- [ ] 優化視覺層級(負責人較小,任務名稱較大)

### 3.2 更新卡片樣式
- [ ] 部門標籤使用不同顏色區分
- [ ] 確保資訊層級清晰

---

## Phase 4: 開發篩選器功能

### 4.1 建立篩選器元件
- [ ] 建立 TaskFilter.tsx
- [ ] 部門篩選下拉選單
- [ ] 任務狀態篩選(全部/待辦/進行中/已完成)
- [ ] 負責人篩選

### 4.2 實現篩選邏輯
- [ ] 在 Home.tsx 實現篩選狀態管理
- [ ] 根據篩選條件過濾任務列表

---

## Phase 5: 實現已完成任務追蹤

### 5.1 修改任務完成邏輯
- [ ] 點擊「結束」後,任務狀態改為 completed
- [ ] 記錄完成時間 completedAt
- [ ] **不再從列表中移除任務**

### 5.2 儀表板新增已完成任務區塊
- [ ] 在儀表板新增「已完成任務」卡片列表
- [ ] 顯示最近完成的任務
- [ ] 支援點擊查看詳情

### 5.3 儀表板新增進行中任務區塊
- [ ] 在儀表板新增「進行中任務」卡片列表
- [ ] 即時顯示正在執行的任務
- [ ] 顯示已投入時間

---

## Phase 6: 測試與優化

### 6.1 功能測試
- [ ] 測試部門卡片顯示
- [ ] 測試篩選器功能
- [ ] 測試任務完成追蹤
- [ ] 測試儀表板新區塊

### 6.2 使用者體驗優化
- [ ] 確保篩選器操作流暢
- [ ] 優化任務卡片佈局
- [ ] 檢查響應式設計

---

## Phase 7: 交付更新成果

- [ ] 建立測試報告
- [ ] 儲存檢查點
- [ ] 交付給使用者
