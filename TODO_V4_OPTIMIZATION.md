# AI 任務管理系統 - V4 優化待辦清單

## 優化目標
1. 放大符號尺寸並加入分級標籤
2. 重構協作單位選擇器為部門分組
3. 實現卡片式子任務時間追蹤

---

## Phase 1: 規劃優化方案並更新待辦清單
- [x] 分析使用者需求
- [x] 設計優化方案
- [x] 建立待辦清單

---

## Phase 2: 放大符號尺寸並加入分級標籤

### 任務卡片符號優化
- [ ] 將符號尺寸從 60px 放大到 120px
- [ ] 在符號右下角加入分級標籤(「一級」「二級」「三級」)
- [ ] 調整卡片佈局以適應更大的符號
- [ ] 優化符號與文字的間距

### 技術實作
- [ ] 更新 TaskCard.tsx 的符號顯示邏輯
- [ ] 新增 CSS 樣式支援符號內嵌標籤
- [ ] 測試不同螢幕尺寸的顯示效果

---

## Phase 3: 重構協作單位選擇器為部門分組

### 部門分組選擇器設計
- [ ] 設計部門分組 UI 元件
- [ ] 實現部門摺疊/展開功能
- [ ] 支援多選成員功能
- [ ] 顯示已選成員數量

### 技術實作
- [ ] 更新 CreateTaskDialog.tsx 的協作單位選擇區塊
- [ ] 建立 DepartmentMemberSelector 元件
- [ ] 整合部門資料與成員資料
- [ ] 測試選擇與取消選擇功能

---

## Phase 4: 實現卡片式子任務時間追蹤

### 子任務追蹤系統設計
- [ ] 設計子任務卡片 UI
- [ ] 實現「開始」「繼續」「完成」按鈕邏輯
- [ ] 顯示每個子任務的實際投入時間
- [ ] 計算總進度百分比

### 資料模型更新
- [ ] 更新 Task 類型定義,新增 subtasks 欄位
- [ ] 定義 Subtask 類型(id, title, estimatedTime, actualTime, status, startTime, endTime)
- [ ] 實現子任務狀態管理邏輯

### 技術實作
- [ ] 更新 TaskDetailDialog.tsx,替換時間軸為子任務卡片
- [ ] 建立 SubtaskCard 元件
- [ ] 實現子任務計時功能
- [ ] 整合到任務詳情彈窗

---

## Phase 5: 測試所有優化功能
- [ ] 測試符號尺寸與標籤顯示
- [ ] 測試部門分組選擇器
- [ ] 測試子任務時間追蹤
- [ ] 測試響應式設計
- [ ] 修正發現的問題

---

## Phase 6: 交付最終成果
- [ ] 建立測試報告
- [ ] 儲存檢查點
- [ ] 交付給使用者
